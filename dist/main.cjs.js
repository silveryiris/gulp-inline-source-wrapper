"use strict";function _interopDefault(r){return r&&"object"==typeof r&&"default"in r?r.default:r}Object.defineProperty(exports,"__esModule",{value:!0});var inlineSource=require("inline-source"),path=_interopDefault(require("path")),through=_interopDefault(require("through2"));class GulpInlineSourceWrapperError extends Error{constructor(...r){super(...r),this.name=this.constructor.name}}function inlineSourceWrapper(r={}){return through.obj(async(e,t,n)=>{try{if(e.isNull()||e.isDirectory())return n(null,e);if(e.isStream())return n(new GulpInlineSourceWrapperError("Chunk as Stream is not supported"));const t={...{rootpath:path.dirname(e.path),htmlpath:e.path},...r},o=await inlineSource.inlineSource(e.contents.toString(),t);e.contents=new Buffer.from(o||""),n(null,e)}catch(r){return n(new GulpInlineSourceWrapperError(r))}})}exports.default=inlineSourceWrapper,exports.inlineSourceWrapper=inlineSourceWrapper;
